<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>crontab</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css">
  <style>
    body {
      max-width: 900px;
      margin: 2em auto;
      padding: 1em 2em;
      background-color: #fff;
    }
    .markdown-body table {
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 1em;
    }
    .markdown-body th, .markdown-body td {
      border: 1px solid #d0d7de;
      padding: 6px 13px;
    }
    .markdown-body th {
      background-color: #f6f8fa;
      font-weight: 600;
      text-align: left;
    }
  </style>
</head>
<body>
  <article class="markdown-body">
<h1>ğŸ•’ <code>crontab</code> â€“ plÃ¡novÃ¡nÃ­ Ãºloh v Linuxu</h1>
<p><code>cron</code> je nÃ¡stroj pro automatickÃ© spouÅ¡tÄ›nÃ­ pÅ™Ã­kazÅ¯ nebo skriptÅ¯ v definovanÃ½ch intervalech. PomocÃ­ <code>crontab</code> si nastavÃ­Å¡, kdy a co se mÃ¡ spustit.</p>
<hr />
<h2>ğŸ“˜ ZÃ¡kladnÃ­ syntaxe</h2>
<p>KaÅ¾dÃ½ Å™Ã¡dek v <code>crontab</code> mÃ¡ tuto podobu:</p>
<pre><code class="language-cron">* * * * * /cesta/k/pÅ™Ã­kazu
â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ den v tÃ½dnu (0â€“7) (0 nebo 7 = nedÄ›le)
â”‚ â”‚ â”‚ â””â”€â”€â”€â”€ mÄ›sÃ­c (1â€“12)
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€ den v mÄ›sÃ­ci (1â€“31)
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€ hodina (0â€“23)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ minuta (0â€“59)
</code></pre>
<hr />
<h2>ğŸ“‹ PÅ™Ã­klad: kaÅ¾dodennÃ­ zÃ¡loha pomocÃ­ <code>rsync</code> ve 2:00 rÃ¡no</h2>
<pre><code class="language-cron">0 2 * * * /usr/bin/rsync -av /home/user/ /mnt/backup/home/ &gt;&gt; /var/log/rsync.log 2&gt;&amp;1
</code></pre>
<hr />
<h2>ğŸ§ª OtevÅ™enÃ­ vlastnÃ­ho crontabu</h2>
<pre><code class="language-bash">crontab -e
sudo crontab -e # pro ulohy provadÄ›nÃ© pod rootem
</code></pre>
<p>TÃ­m otevÅ™eÅ¡ svÅ¯j plÃ¡n Ãºloh v editoru (napÅ™. <code>nano</code>, <code>vim</code>).</p>
<hr />
<h2>ğŸ“„ VÃ½pis naplÃ¡novanÃ½ch Ãºloh</h2>
<pre><code class="language-bash">crontab -l
sudo crontab -l # pro rootovske ulohy
</code></pre>
<hr />
<h2>âŒ SmazÃ¡nÃ­ vÅ¡ech Ãºloh</h2>
<pre><code class="language-bash">crontab -r
</code></pre>
<hr />
<h2>ğŸ§‘â€ğŸ’» PÅ™Ã­klady pouÅ¾itÃ­</h2>
<p>| ÄŒas               | Crontab vÃ½raz     | Popis                                 |
|-------------------|-------------------|----------------------------------------|
| KaÅ¾dou minutu     | <code>* * * * *</code>       | SpustÃ­ se kaÅ¾dou minutu                |
| KaÅ¾dou hodinu     | <code>0 * * * *</code>       | V kaÅ¾dou celou hodinu                  |
| DennÄ› ve 3:30     | <code>30 3 * * *</code>      | KaÅ¾dÃ½ den v 3:30 rÃ¡no                  |
| KaÅ¾dou nedÄ›li     | <code>0 9 * * 0</code>       | V nedÄ›li v 9:00                        |
| KaÅ¾dÃ½ prvnÃ­ den v mÄ›sÃ­ci | <code>0 0 1 * *</code> | KaÅ¾dÃ½ prvnÃ­ den mÄ›sÃ­ce o pÅ¯lnoci       |</p>
<hr />
<h2>ğŸ§  SpeciÃ¡lnÃ­ zÃ¡stupci</h2>
<p>| ZÃ¡stupce      | VÃ½znam                        |
|---------------|-------------------------------|
| <code>@reboot</code>     | SpustÃ­ se po startu systÃ©mu   |
| <code>@daily</code>      | Jednou dennÄ› (0:00)           |
| <code>@hourly</code>     | KaÅ¾dou hodinu (00:00)         |
| <code>@weekly</code>     | Jednou tÃ½dnÄ› (nedÄ›le 0:00)    |
| <code>@monthly</code>    | Jednou mÄ›sÃ­ÄnÄ› (1. den 0:00)  |
| <code>@yearly</code>     | Jednou roÄnÄ› (1. 1. 0:00)     |</p>
<p>ğŸ“Œ <strong>PÅ™Ã­klad:</strong></p>
<pre><code class="language-cron">@daily /home/user/scripts/daily-backup.sh
</code></pre>
<hr />
<h2>ğŸ“‚ UmÃ­stÄ›nÃ­ logÅ¯</h2>
<p>Cron vÃ½stup standardnÄ› posÃ­lÃ¡ e-mailem uÅ¾ivateli. Pokud systÃ©m nemÃ¡ MTA (Mail Transfer Agent), doporuÄuje se logovat ruÄnÄ›:</p>
<pre><code class="language-cron">0 4 * * * /path/to/command &gt;&gt; /var/log/muj_script.log 2&gt;&amp;1
</code></pre>
<hr />
<h2>ğŸ”„ Tipy</h2>
<ul>
<li>PouÅ¾Ã­vej absolutnÃ­ cesty ke skriptÅ¯m a pÅ™Ã­kazÅ¯m.</li>
<li>OvÄ›Å™ si, Å¾e skript mÃ¡ prÃ¡vo na spuÅ¡tÄ›nÃ­ (<code>chmod +x</code>).</li>
<li>PromÄ›nnÃ© prostÅ™edÃ­ v <code>cron</code>u nejsou stejnÃ© jako v bÄ›Å¾nÃ©m shellu â€“ nastav <code>PATH</code> uvnitÅ™ skriptu, pokud je potÅ™eba.</li>
<li><code>cron</code> mÃ¡ vlastnÃ­ prostÅ™edÃ­ â€“ spouÅ¡tÄ›j skripty, kterÃ© se obejdou bez interaktivnÃ­ho vstupu.</li>
</ul>
<hr />
<h2>ğŸ”§ SystÃ©movÃ© crontaby</h2>
<ul>
<li><code>/etc/crontab</code> â€“ hlavnÃ­ crontab s moÅ¾nostÃ­ definovat uÅ¾ivatele</li>
<li><code>/etc/cron.d/</code> â€“ individuÃ¡lnÃ­ crontab soubory</li>
<li><code>/etc/cron.{hourly,daily,weekly,monthly}/</code> â€“ skripty spouÅ¡tÄ›nÃ© podle plÃ¡novanÃ½ch sloÅ¾ek</li>
</ul>
<hr />
<h2>âœ… TestovÃ¡nÃ­ Ãºloh</h2>
<p>Pro simulaci cron spuÅ¡tÄ›nÃ­ mÅ¯Å¾eÅ¡ spustit pÅ™Ã­kaz ruÄnÄ›:</p>
<pre><code class="language-bash">bash /path/to/script.sh
</code></pre>
<hr />
<h2>ğŸ“š DalÅ¡Ã­ odkazy</h2>
<ul>
<li><a href="https://man7.org/linux/man-pages/man5/crontab.5.html">man crontab</a></li>
<li><a href="https://crontab.guru/">crontab.guru â€“ online generÃ¡tor vÃ½razÅ¯</a></li>
</ul>
    <p><a href="../index.html">â† ZpÄ›t</a></p>
  </article>
</body>
</html>