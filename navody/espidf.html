<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>espidf</title>
  <!-- P≈ôid√°no GitHub Markdown CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css">
  <style>
    body {
      max-width: 900px;
      margin: 2em auto;
      padding: 1em 2em;
      background-color: #fff;
    }
  </style>
</head>
<body>
  <article class="markdown-body">
<h1>Instalace:</h1>
<p>sudo apt-get install git wget flex bison gperf python3 python3-pip python3-venv cmake ninja-build ccache libffi-dev libssl-dev dfu-util libusb-1.0-0
python --version # mel by byt vyssi nez 2.7.17</p>
<h1>Get ESP-IDF</h1>
<p>mkdir -p ~/esp
cd ~/esp
git clone --recursive https://github.com/espressif/esp-idf.git</p>
<h1>Set up the Tools</h1>
<p>cd ~/esp/esp-idf
./install.sh all</p>
<h1>set up the Environment Variables - do not forget DOT and SPACE!</h1>
<p>. $HOME/esp/esp-idf/export.sh</p>
<h1>add to $HOME/.bashrc</h1>
<p>alias get_idf='. $HOME/esp/esp-idf/export.sh'</p>
<h1>test installation = start the project:</h1>
<p>cd ~/esp
cp -r $IDF_PATH/examples/get-started/hello_world .
cd ~/esp/hello_world
idf.py set-target esp32
idf.py menuconfig
idf.py build flash monitor</p>
<h6>###################################≈°</h6>
<p>üîå Zji≈°tƒõn√≠ s√©riov√©ho portu:
$ sudo dmesg | grep tty</p>
<h1>ƒçasto pro USB-Serial p≈ôevodn√≠ky (nap≈ô. CH340, CP210x)</h1>
<p>ls /dev/ttyUSB<em>
ls /dev/ttyACM</em></p>
<h1>Sleduj p≈ôipojen√≠ v re√°ln√©m ƒçase</h1>
<p>watch -n 0.5 ls /dev/ttyUSB<em> /dev/ttyACM</em></p>
<p>üîç Zji≈°tƒõn√≠ ƒçipu a flash info pomoc√≠ esptool.py:
(automaticky se nainstaluje s ESP-IDF)
esptool.py --port /dev/ttyUSB0 chip_id             # Zobraz√≠ ID ƒçipu
esptool.py --port /dev/ttyUSB0 flash_id            # Info o flash pamƒõti
esptool.py --port /dev/ttyUSB0 read_mac            # Z√≠sk√° MAC adresu
esptool.py --port /dev/ttyUSB0 read_flash_status   # Stav flash pamƒõti</p>
<p>‚úÖ Z√°kladn√≠ p≈ô√≠kazy idf.py:
P≈ô√≠kaz  Popis
create-project nazev
set-target <chip>   Nastav√≠ c√≠lov√Ω ƒçip (nap≈ô. esp32, esp32s3, esp8266, apod.).
menuconfig  Spust√≠ konfigur√°tor (textov√© UI pro nastaven√≠ projektu).
build   P≈ôelo≈æ√≠ (buildne) projekt.
clean   Sma≈æe v√Ωstupy p≈ôekladu.
fullclean   Vyƒçist√≠ i konfiguraƒçn√≠ soubory ‚Äì reset projektu do v√Ωchoz√≠ho stavu.
flash   Nahraje bin√°rku do za≈ô√≠zen√≠ p≈ôes s√©riov√Ω port.
monitor Otev≈ôe s√©riov√Ω termin√°l pro sledov√°n√≠ v√Ωstupu z ESP.
flash monitor   Zkombinovan√© nahr√°n√≠ firmware a n√°sledn√© otev≈ôen√≠ s√©riov√©ho monitoru.
erase-flash Vyma≈æe cel√Ω flash ƒçip na za≈ô√≠zen√≠.
reconfigure Znovu vygeneruje build syst√©m (u≈æiteƒçn√© nap≈ô. po zmƒõnƒõ SDK).
size    Uk√°≈æe velikost v√Ωsledn√© bin√°rky.
size-components Uk√°≈æe velikost jednotliv√Ωch komponent.</p>
<p>‚öôÔ∏è Automatick√© rozpozn√°n√≠ portu (idf.py od ESP-IDF v4.2+):
idf.py flash monitor
‚û° Pokud je za≈ô√≠zen√≠ jedin√© p≈ôipojen√©, IDF si port zjist√≠ samo.
Pokud je v√≠c za≈ô√≠zen√≠, pou≈æij -p, nap≈ô. -p /dev/ttyUSB0 nebo -p COM3.</p>
<p>üõ†Ô∏è P≈ô√≠klad pou≈æit√≠:
idf.py create-project hello_world
cd ~/esp/hello_world
idf.py set-target esp32
idf.py menuconfig
idf.py build
idf.py flash
idf.py -p /dev/ttyUSB0 flash monitor</p>
<p>cd ~/esp/projekt &amp;&amp; idf.py set-target esp32 &amp;&amp; idf.py build &amp;&amp; idf.py -p /dev/ttyACM0 flash monitor</p>
<p>idf.py set-target esp32
idf.py menuconfig  # Nastaven√≠ Wi-Fi a MQTT parametr≈Ø
idf.py build       # Kompilace
idf.py flash       # Nahr√°n√≠ na za≈ô√≠zen√≠
idf.py monitor     # Sledov√°n√≠ v√Ωstupu</p>
<p>P≈ôejdi na aktualni verzi ESP-IDF, aktualizuj ESP-IDF takto:
cd ~/esp
git clone -b v5.2 https://github.com/espressif/esp-idf.git esp-idf
cd esp-idf
./install.sh
. ./export.sh</p>
    <p><a href="../index.html">‚Üê Zpƒõt</a></p>
  </article>
</body>
</html>